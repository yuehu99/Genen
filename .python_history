import torch_geometric
exit()
import torch
print(torch.__version__)
cd ..
exit()
import dgl
exit()
import dgl
exit()
import dgl
from dgl.nn.pytorch import GraphConv
exit()
import re
import os
directory = 'patches/'
file_list = os.listdir(directory)
ids2 = [re.search(r'\d+', filename).group(0) for filename in file_list if re.search(r'\d+', filename)]
print(ids2)
exit()
df = pd.read_csv('/home/yue/CLAM-master/CLAM-master/Gem_processed.csv')
import pandas as pd 
df = pd.read_csv('/home/yue/CLAM-master/CLAM-master/Gem_processed.csv')
df = pd.read_csv('/home/yue/CLAM-master/Gem_processed.csv')
df.columns = ['c_1', 'c_2', 'c_3', 'c_4']
df = df[['c_1','c_2','c_3']]
df
exit()
import pandas as pd
df = pd.read_csv('Step_2.csv')
df
df = pd.read_csv('Step_3.csv')
df
import re
import os 
df = pd.read_csv('/home/yue/CLAM-master/Gem_processed.csv')
df.columns = ['c_1', 'c_2', 'c_3', 'c_4']
df = df[['c_1','c_2','c_3']]
df
ids1 = [i for i in df.c_2]
ids1
ids2 = [re.search(r'\d+', filename).group(0) for filename in os.listdir('toy_test/patches/') if re.search(r'\d+', filename)]
ids2
ids2 = [int(re.search(r'\d+', filename).group(0)) for filename in os.listdir('toy_test/patches/') if re.search(r'\d+', filename)]
ids2
ids = df['c_2'].isin(ids2)
ids
count_true = ids.sum()
count_true
len(ids2)
df['c_2']
contains_one = df['c_2'].isin([1]).any()
contains_one
contains_one = df['c_2'].isin([3105]).any()
contains_one
contains_one = df['c_2'].isin([1587]).any()
contains_one
contains_one = df['c_2'].isin([1614]).any()
contains_one
contains_one = df['c_2'].isin([6328]).any()
contains_one
contains_one = df['c_2'].isin([39]).any()
contains_one
df = df.loc[ids]
df
df.columns = ['case_id','slide_id','label']
df.to_csv('Step_3.csv',index=False)
exit()
import os 
import re
import pandas as pd 
df = pd.read_csv('/home/yue/CLAM-master/Gem_processed_new.csv')
df.columns = ['c_1', 'c_2', 'c_3', 'c_4']
df = df[['c_1','c_2','c_3']]
ids1 = [i for i in df.c_2]
ids2 = [int(re.search(r'\d+', filename).group(0)) for filename in os.listdir('toy_test/patches/') if re.search(r'\d+', filename)]
ids = df['c_2'].isin(ids2)
df = pd.read_csv('/home/yue/CLAM-master/Gem_processed_new.csv')
df
new_column_names = {f'c_{i}': f'col_{i}' for i in range(1, 77)}
df.rename(columns=new_column_names, inplace=True)
df
new_columns = [f'c_{i}' for i in range(1, 77)]
df.columns = new_columns
df
ids1 = [i for i in df.c_27]
ids1
df['c_27'] = df['c_27'].astype(int)
ids1 = [i for i in df.c_27]
ids1
ids2 = [int(re.search(r'\d+', filename).group(0)) for filename in os.listdir('toy_test/patches/') if re.search(r'\d+', filename)]
ids = df['c_2'].isin(ids2)
sum(ids)
ids2
ids = df['c_2'].isin(ids2)
ids
count_true = ids.sum()
count_true 
print(df['c_2'].value_counts())
ids = df['c_27'].isin(ids2)
ids
sum(ids)
df = df.loc[ids]
df
df.to_csv('Step_3.csv',index=False)
exit()
import os 
import re
import pandas as pd 
df = pd.read_csv('/home/yue/CLAM-master/Gem_processed_new.csv')
new_columns = [f'c_{i}' for i in range(1, 77)]
df.columns = new_columns
df = df[['c_1','c_27','c_11']]
ids1 = [i for i in df.c_27]
df
df['c_27'] = df['c_27'].astype(int)
df['c_11'] = df['c_11'].astype(int)
df
ids2 = [int(re.search(r'\d+', filename).group(0)) for filename in os.listdir('toy_test/patches/') if re.search(r'\d+', filename)]
ids = df['c_27'].isin(ids2)
sum(ids)
df = df.loc[ids]
df.columns = ['case_id','slide_id','label’]
df.columns = ['case_id','slide_id','labe']
df.to_csv('/home/yue/CLAM-master/Step_3.csv',index=False)
exit()
df = pd.read_csv('/home/yue/CLAM-master/toy_test/process_list_autogen.csv')
import pandas as pd
df = pd.read_csv('/home/yue/CLAM-master/toy_test/process_list_autogen.csv')
ids1 = [i[:-4] for i in df.slide_id]
ids2 = [i[:-3] for i in os.listdir('toy_test/patches/')]
import os
ids1 = [i[:-4] for i in df.slide_id]
ids2 = [i[:-3] for i in os.listdir('toy_test/patches/')]
ids2 = [i[:-3] for i in os.listdir('/home/yue/CLAM-master/toy_test/patches/')]
ids1
ids2
ids1 = [int(re.search(r'\d+', filename).group(0)) for filename in df.slide_id]
import re
ids1 = [int(re.search(r'\d+', filename).group(0)) for filename in df.slide_id]
ids1
ids2 = [int(re.search(r'\d+', filename).group(0)) for filename in os.listdir('/home/yue/CLAM-master/toy_test/patches/') if re.search(r'\d+', filename)]
ids2
ids = df['slide_id'].isin(ids2)
ids
ids = ids1.isin(ids2)
df['slide_id']
df['slide_id'] = ids1
df['slide_id']
ids = df['slide_id'].isin(ids2)
ids
df.loc[ids].to_csv('/home/yue/CLAM-master/Step_2.csv',index=False)
exit()
import os 
import pandas as pd 
Import re
df = pd.read_csv('/home/yue/CLAM-master/toy_test/process_list_autogen.csv') # 这个是上一步生成的文件
ids1 = [str(re.search(r'\d+', filename).group(0)) for filename in df.slide_id]
ids2 = [str(re.search(r'\d+', filename).group(0)) for filename in os.listdir('/home/yue/CLAM-master/toy_test/patches
/') if re.search(r'\d+', filename)]
import os 
import pandas as pd 
Import re
df = pd.read_csv('/home/yue/CLAM-master/toy_test/process_list_autogen.csv') # 这个是上一步生成的文件
ids1 = [str(re.search(r'\d+', filename).group(0)) for filename in df.slide_id]
ids2 = [str(re.search(r'\d+', filename).group(0)) for filename in os.listdir('/home/yue/CLAM-master/toy_test/patches/') if re.search(r'\d+', filename)]
import re
df = pd.read_csv('/home/yue/CLAM-master/toy_test/process_list_autogen.csv') 
ids1 = [str(re.search(r'\d+', filename).group(0)) for filename in df.slide_id]
ids2 = [str(re.search(r'\d+', filename).group(0)) for filename in os.listdir('/home/yue/CLAM-master/toy_test/patches/') if re.search(r'\d+', filename)]
idsq
ids1
ids2
ids1 = [i[:-4] for i in df.slide_id]
ids1
df['slide_id']
ids1ids1 = [str(re.search(r'\d+', filename).group(0)) for filename in df.slide_id]
df['slide_id'] = ids1ids1
df['slide_id']
print(df['slide_id'].dtype)
df.loc[ids]
ids = df['slide_id'].isin(ids2)
ids1 = [i[:-4] for i in df.slide_id]
ids2 = [i[:-3] for i in os.listdir('toy_test/patches/')]
df['slide_id'] = ids1
ids = df['slide_id'].isin(ids2)
df.loc[ids]
df = pd.read_csv('/home/yue/CLAM-master/toy_test/process_list_autogen.csv') # 这个是上一步生成的文件
ids1 = [i[:-4] for i in df.slide_id]
ids2 = [i[:-3] for i in os.listdir('toy_test/patches/')]
df['slide_id'] = ids1
ids = df['slide_id'].isin(ids2)
df.loc[ids]
print(df['slide_id'].dtype)
print(df.dtype)
print(df.dtypes)
exit()
import os 
import pandas as pd 
Import re
df = pd.read_csv('/home/yue/CLAM-master/toy_test/process_list_autogen.csv')
import os 
import pandas as pd 
import re
df = pd.read_csv('/home/yue/CLAM-master/toy_test/process_list_autogen.csv')
ids1 = [‘BLGM’+str(re.search(r'\d+', filename).group(0)) for filename in df.slide_id]
ids2 = [‘BLGM’+str(re.search(r'\d+', filename).group(0)) for filename in os.listdir('/home/yue/CLAM-master/toy_test/patches/') if re.search(r'\d+', filename)]
ids1 = [‘'LGM’'tr(re.search(r'\d+', filename).group(0)) for filename in df.slide_id]
ids1 = [B'LGM’'tr(re.search(r'\d+', filename).group(0)) for filename in df.slide_id]
ids1 = 'BLGM'+str(re.search(r'\d+', filename).group(0)) for filename in df.slide_id]
ids1 = [‘BLGM’+str(re.search(r'\d+', filename).group(0)) for filename in df.slide_id]ids1 = [re.search(r'\d+', filename).group(0) for filename in df.slide_id]
ids1 = [re.search(r'\d+', filename).group(0) for filename in df.slide_id]
ids1
ids2 = [re.search(r'\d+', filename).group(0) for filename in os.listdir('/home/yue/CLAM-master/toy_test/patches/') if re.search(r'\d+', filename)]
ids2
df['slide_id'] = ids1
ids = df['slide_id'].isin(ids2)
df.loc[ids].to_csv('/home/yue/CLAM-master/Step_2.csv',index=False)
exit()
import os 
import pandas as pd 
df = pd.read_csv('/home/yue/CLAM-master/toy_test/process_list_autogen.csv') # 这个是上一步生成的文件
ids1 = [i[:-4] for i in df.slide_id]
ids2 = [i[:-3] for i in os.listdir('toy_test/patches/')]
ids1
exit()
import os 
import pandas as pd 
df = pd.read_csv('/home/yue/CLAM-master/CLAM-master/toy_test/process_list_autogen.csv') # 这个是上一步生成的文件
ids1 = [i[:-4] for i in df.slide_id]
ids2 = [i[:-3] for i in os.listdir('toy_test/patches/')]
ids1
ids2
df['slide_id'] = ids1
ids = df['slide_id'].isin(ids2)
ids
df.loc[ids].to_csv('/home/yue/CLAM-master/Step_2.csv',index=False)
exit()
import os 
import re
import pandas as pd 
df = pd.read_csv('/home/yue/CLAM-master/Gem_processed_new.csv')
new_columns = [f'c_{i}' for i in range(1, 77)]
df.columns = new_columns
df
df.c_27
df['c_27'] = 'BLGM' + df['c_27'].astype(int).astype(str)
df.c_27
df = df[['c_1','c_27','c_11']]
ids1 = [i for i in df.c_27]
ids2 = [re.search(r'\d+', filename).group(0)) for filename in os.listdir('toy_test/patches/') if re.search(r'\d+', filename)]
ids2 = [re.search(r'\d+', filename).group(0) for filename in os.listdir('toy_test/patches/') if re.search(r'\d+', filename)]
ids1
ids2
ids2 = [i[:-3] for i in os.listdir('/home/yue/CLAM-master/CLAM-master/toy_test/patches/')]
ids2
ids = df['c_27'].isin(ids2)
ids
ids = df['c_27'].isin(ids2)
sum(ids)
df = df.loc[ids]
df.columns = ['case_id','slide_id','label']
df
df.to_csv('/home/yue/CLAM-master/Step_3.csv',index=False)
exit()
df = pd.read_csv('/home/yue/CLAM-master/Gem_processed_new.csv')
import os 
import re
import pandas as pd 
df = pd.read_csv('/home/yue/CLAM-master/Gem_processed_new.csv')
new_columns = [f'c_{i}' for i in range(1, 77)]
df.columns = new_columns
df = df[['c_1','c_27','c_11']]
df
df['c_27'] = 'BLGM' + df['c_27'].astype(int).astype(str)
df
df
df['c_27'].astype(str)
df['c_11'].astype(str)
ids = df['c_27'].isin(ids2)
ids2 = [i[:-3] for i in os.listdir('/home/yue/CLAM-master/CLAM-master/toy_test/patches/')]
ids = df['c_27'].isin(ids2)
ids
sum(ids)
df = df.loc[ids]
df.columns = ['case_id','slide_id','label']
df.to_csv('/home/yue/CLAM-master/Step_3.csv',index=False)
exit()
df = pd.read_csv('/home/yue/CLAM-master/Step_3.csv')
import pandas as pd
df = pd.read_csv('/home/yue/CLAM-master/Step_3.csv')
df
df.dtype
df.dtypes
exit()
import os 
import pandas as pd 
df = pd.read_csv('/home/yue/CLAM-master/CLAM-master/toy_test/process_list_autogen.csv') # 这个是上一步生成的文件
ids1 = [i[:-4] for i in df.slide_id]
ids2 = [i[:-3] for i in os.listdir('/home/yue/CLAM-master/CLAM-master/toy_test/patches/')]
df['slide_id'] = ids1
ids = df['slide_id'].isin(ids2)
sum(ids)
df.loc[ids].to_csv('/home/yue/CLAM-master/Step_2.csv',index=False)
exit()
import os 
import re
import pandas as pd 
df = pd.read_csv('/home/yue/CLAM-master/Gem_processed_new.csv')
new_columns = [f'c_{i}' for i in range(1, 77)]
df.columns = new_columns
df = df[['c_1','c_27','c_11']]
df['c_27'] = 'BLGM' + df['c_27'].astype(int).astype(str)
ids1 = [i for i in df.c_27]
df['c_11'] = df['c_11'].astype(int)
ids2 = [i[:-3] for i in os.listdir('/home/yue/CLAM-master/CLAM-master/toy_test/patches/')]
ids = df['c_27'].isin(ids2)
sum(ids)
df = df.loc[ids]
df.columns = ['case_id','slide_id','label']
df.to_csv('/home/yue/CLAM-master/Step_3.csv',index=False)
/home/yue/CLAM-master/Step_3.csv
df.to_csv('/home/yue/CLAM-master/Step_3.csv',index=False)
df
exit()
import pandas as pd
data = pd.read_csv('toy_test/process_list_autogen.csv.csv')
data = pd.read_csv('home/yue/CLAM-master/CLAM-master/toy_test/process_list_autogen.csv.csv')
data = pd.read_csv('home/yue/CLAM-master/CLAM-master/toy_test/process_list_autogen.csv')
exit()
import pandas as pd
data = pd.read_csv('/home/yue/CLAM-master/CLAM-master/toy_test/process_list_autogen.csv')
data_reduced = data.iloc[:, 3:]
first_row = data_reduced.iloc[0]
first_row_df = pd.DataFrame([first_row])
first_row_df
first_row_df.to_csv('/home/yue/CLAM-master/CLAM-master/presets/blgm.csv', index=False)
exit()
import torch
print(torch.cuda.is_available())
print(torch.backends.cudnn.enabled)  # 检查cuDNN是否启用
print(torch.backends.cudnn.version())  # 显示cuDNN版本

import torch
print(torch.cuda.is_available())
print(torch.backends.cudnn.enabled) 
print(torch.backends.cudnn.version())

import torch

print(torch.cuda.is_available())
print(torch.backends.cudnn.enabled)
print(torch.backends.cudnn.version())
exit
exit()
